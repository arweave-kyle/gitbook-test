# HTTP API

## Introduction

#### Postman Collection

[![](.gitbook/assets/68747470733a2f2f72756e2e7073746d6e2e696f2f627574746f6e2e737667.svg) ](https://app.getpostman.com/run-collection/8af0090f2db84e979b69)

#### Sample requests

{% tabs %}
{% tab title="cURL" %}
```bash
curl --request GET \
  --url 'http://127.0.0.1:1984/info'
```
{% endtab %}

{% tab title="Javascript" %}
```javascript
let xhr = new XMLHttpRequest();

xhr.addEventListener("readystatechange", function () {
  if (this.readyState === 4) {
    console.log(this.responseText);
  }
});

xhr.open("GET", "http://arweave.net:1984/info");

xhr.send(data);
```
{% endtab %}

{% tab title="NodeJS" %}
```javascript
var request = require("request");

var options = { method: 'GET',
  url: 'http://arweave.net:1984/info',
};

request(options, function (error, response, body) {
  if (error) throw new Error(error);

  console.log(body);
});

```
{% endtab %}

{% tab title="PHP" %}
```php
<?php

$curl = curl_init();

curl_setopt_array($curl, array(
  CURLOPT_PORT => "1984",
  CURLOPT_URL => "http://arweave.net:1984/info",
  CURLOPT_RETURNTRANSFER => true,
  CURLOPT_ENCODING => "",
  CURLOPT_MAXREDIRS => 10,
  CURLOPT_TIMEOUT => 30,
  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
  CURLOPT_CUSTOMREQUEST => "GET",
));

$response = curl_exec($curl);
$err = curl_error($curl);

curl_close($curl);

if ($err) {
  echo "cURL Error #:" . $err;
} else {
  echo $response;
}
```
{% endtab %}
{% endtabs %}

## Schema

Common data structures and processes explained.

### Winston and AR

Winston is the smallest unit of AR, similar to a satoshi in Bitcoin, or wei in Etherium.

{% hint style="info" %}
1 AR = 1000000000000 Winston \(12 zeros\)
{% endhint %}

**The API will return all AR values as winston strings**, this is to allow for interoperability between environments that do not accommodate arbitrary-precision arithmetic.

JavaScript for example stores all numbers as double precision floating point values and as such cannot natively express the integer number of winston. Providing these values as strings allows them to be directly loaded into most 'bignum' libraries.

### Transaction Format

{% tabs %}
{% tab title="Data Transaction" %}
```javascript
{
  "id": "3pXpj43Tk8QzDAoERjHE3ED7oEKLKephjnVakvkiHF8",
  "last_tx": "NpeIbi93igKhE5lKUMhH5dFmyEsNGC0fb2Qysggd-kM",
  "owner": "posmE...psEok",
  "tags": [],
  "target": "pEbU_SLfRzEseum0_hMB1Ie-hqvpeHWypRhZiPoioDI",
  "quantity": "10000000000",
  "data": "VGVzdA",
  "reward": "321579659",
  "signature": "fjL0N...f2UMk"
}
```
{% endtab %}

{% tab title="Wallet to Wallet AR Transfer" %}
```javascript
{
  "id": "3pXpj43Tk8QzDAoERjHE3ED7oEKLKephjnVakvkiHF8",
  "last_tx": "NpeIbi93igKhE5lKUMhH5dFmyEsNGC0fb2Qysggd-kM",
  "owner": "posmE...psEok",
  "tags": [],
  "target": "pEbU_SLfRzEseum0_hMB1Ie-hqvpeHWypRhZiPoioDI",
  "quantity": "10000000000",
  "data": "VGVzdA",
  "reward": "321579659",
  "signature": "fjL0N...f2UMk"
}
```
{% endtab %}

{% tab title="Wallet to Wallet AR Transfer with Data" %}
```javascript
{
  "id": "3pXpj43Tk8QzDAoERjHE3ED7oEKLKephjnVakvkiHF8",
  "last_tx": "NpeIbi93igKhE5lKUMhH5dFmyEsNGC0fb2Qysggd-kM",
  "owner": "posmE...psEok",
  "tags": [],
  "target": "pEbU_SLfRzEseum0_hMB1Ie-hqvpeHWypRhZiPoioDI",
  "quantity": "10000000000",
  "data": "VGVzdA",
  "reward": "321579659",
  "signature": "fjL0N...f2UMk"
}
```
{% endtab %}
{% endtabs %}

| Field |  |
| :--- | :--- |
| id | Transaction ID |
| last\_tx | The last transaction id from the sending wallet |
| owner | The full RSA modulus value for the sending wallet, base64 URL encoded. The modulus is the `n` value from a JWK file. |

### 

### Transaction Signing

Transaction signatures are generated by concatenating the raw and unencoded values from the following fields: owner, target, data, quantity, reward and last\_tx, then signing the raw data.

{% hint style="warning" %}
**Fields values must be concatenated in the specified order to produce a valid signature.**
{% endhint %}

{% tabs %}
{% tab title="JavaScript" %}
```javascript
let key = await crypto.subtle.importKey(
    'jwk',
    jwk,
    {
        name: 'RSA-PSS',
        modulusLength: 4096,
        publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
        hash: {
            name: 'SHA-256',
        }
    },
    false,
    ['sign']
);
        
let signature = await crypto.subtle.sign(
    {
        hash: 'SHA-256',
        subtle: {
            name: 'RSA-PSS',
            saltLength: 0,
        }
    },
    key,
    buffer
);
```
{% endtab %}
{% endtabs %}

## Transactions

Endpoints for interacting with transactions and related resources.

{% api-method method="get" host="http://arweave.net:1984" path="/tx/:id" %}
{% api-method-summary %}
Get Transaction by ID
{% endapi-method-summary %}

{% api-method-description %}
Get a transaction by its ID
{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}
{% api-method-path-parameters %}
{% api-method-parameter name="id" type="string" required=true %}
Transaction ID
{% endapi-method-parameter %}
{% endapi-method-path-parameters %}
{% endapi-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=200 %}
{% api-method-response-example-description %}

{% endapi-method-response-example-description %}

```javascript
{
  "id": "BNttzDav3jHVnNiV7nYbQv-GY0HQ-4XXsdkE5K9ylHQ",
  "last_tx": "jUcuEDZQy2fC6T3fHnGfYsw0D0Zl4NfuaXfwBOLiQtA",
  "owner": "posmE...psEok",
  "tags": [],
  "target": "",
  "quantity": "0",
  "data": "PGh0b...RtbD4",
  "reward": "124145681682",
  "signature": "HZRG_...jRGB-M"
}
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=202 %}
{% api-method-response-example-description %}
The transaction is pending.
{% endapi-method-response-example-description %}

```
Pending
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=400 %}
{% api-method-response-example-description %}
The provided transaction ID is not valid.
{% endapi-method-response-example-description %}

```
Invalid hash.
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=404 %}
{% api-method-response-example-description %}
A transaction with the given ID could not be found.
{% endapi-method-response-example-description %}

```
Not Found.
```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}

{% hint style="info" %}
The **quantity** and **reward** values are always winston strings, 
{% endhint %}

{% api-method method="get" host="http://arweave.net:1984" path="/tx/:id/:field" %}
{% api-method-summary %}
Get Transaction Field
{% endapi-method-summary %}

{% api-method-description %}
Get a single field from a transaction.
{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}
{% api-method-path-parameters %}
{% api-method-parameter name="id" type="string" required=true %}
Transaction ID
{% endapi-method-parameter %}

{% api-method-parameter name="field" type="string" required=true %}
Field name. Acceptable values: id, last\_tx, owner, tags, target, quantity, data, reward, signature
{% endapi-method-parameter %}
{% endapi-method-path-parameters %}
{% endapi-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=200 %}
{% api-method-response-example-description %}
The field value as plain text
{% endapi-method-response-example-description %}

```
jUcuEDZQy2fC6T3fHnGfYsw0D0Zl4NfuaXfwBOLiQtA
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=202 %}
{% api-method-response-example-description %}
The transaction is pending.
{% endapi-method-response-example-description %}

```
Pending
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=400 %}
{% api-method-response-example-description %}
The provided transaction ID is not valid or the field name is not valid.
{% endapi-method-response-example-description %}

```
Invalid hash.
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=404 %}
{% api-method-response-example-description %}
A transaction with the given ID could not be found.
{% endapi-method-response-example-description %}

```
Not Found.
```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}

{% api-method method="get" host="http://arweave.net:1984" path="/tx/:id/data.:extension" %}
{% api-method-summary %}
Get Transaction data
{% endapi-method-summary %}

{% api-method-description %}
Get the raw base64 decoded data from a transaction.  
  
  
The `Content-Type` will default to `text/html` so this endpoint will return a browser renderable response by default.
{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}
{% api-method-path-parameters %}
{% api-method-parameter name="id" type="string" required=false %}
Transaction ID
{% endapi-method-parameter %}

{% api-method-parameter name="extension" type="string" required=false %}
Any extension can be specified depending on the clients use case. Web pages can be requested with `data.html` .
{% endapi-method-parameter %}
{% endapi-method-path-parameters %}
{% endapi-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=200 %}
{% api-method-response-example-description %}

{% endapi-method-response-example-description %}

```markup
<html lang="en-GB" class="b-pw-1280 no-touch orb-js id-svg bbcdotcom ads-enabled bbcdotcom-init bbcdotcom-responsive bbcdotcom-async bbcdotcom-ads-enabled orb-more-loaded  bbcdotcom-group-5" id="responsive-news">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1">
...
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=202 %}
{% api-method-response-example-description %}
The transaction is pending.
{% endapi-method-response-example-description %}

```
Pending
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=400 %}
{% api-method-response-example-description %}
The provided transaction ID is not valid or the field name is not valid.
{% endapi-method-response-example-description %}

```
Invalid hash.
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=404 %}
{% api-method-response-example-description %}
A transaction with the given ID could not be found.
{% endapi-method-response-example-description %}

```
Not Found.
```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}

{% hint style="info" %}
A **Content-Type** tag can be submitted with a transaction, the tag will then be used as the Content-Type header for this response. The default Content-Type is **text/html**.
{% endhint %}

{% api-method method="post" host="http://arweave.net:1984" path="/tx" %}
{% api-method-summary %}
Submit a Transaction
{% endapi-method-summary %}

{% api-method-description %}
Submit a new transaction to the network.
{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}
{% api-method-body-parameters %}
{% api-method-parameter name="owner" type="string" required=false %}
The full RSA modulus value for the sending wallet, base64 URL encoded. The modulus is the `n` value from a JWK file.
{% endapi-method-parameter %}

{% api-method-parameter name="target" type="string" required=true %}
The recipient address \(if sending AR to another wallet\). **Use an empty string for data transactions.**
{% endapi-method-parameter %}

{% api-method-parameter name="quantity" type="string" required=true %}
The amount in winston to transfer to the `target` wallet. **Use an empty string for data transactions.**
{% endapi-method-parameter %}

{% api-method-parameter name="data" type="string" required=true %}
The data to be uploaded, base64 URL encoded.
{% endapi-method-parameter %}

{% api-method-parameter name="reward" type="string" required=true %}
The transaction fee which can be calulated using X
{% endapi-method-parameter %}

{% api-method-parameter name="signature" type="string" required=true %}
The transaction signature, base64 URL encoded.
{% endapi-method-parameter %}
{% endapi-method-body-parameters %}
{% endapi-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=200 %}
{% api-method-response-example-description %}

{% endapi-method-response-example-description %}

```
OK
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=208 %}
{% api-method-response-example-description %}
The transaction has already been submitted.
{% endapi-method-response-example-description %}

```
Transaction already processed.
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=400 %}
{% api-method-response-example-description %}
The transaction is invalid, couldn't be verified, or the wallet does not have suffucuent funds.
{% endapi-method-response-example-description %}

```
Transaction verification failed.
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=429 %}
{% api-method-response-example-description %}
The request has exceeded the clients rate limit quota.
{% endapi-method-response-example-description %}

```
Too Many Requests
```
{% endapi-method-response-example %}

{% api-method-response-example httpCode=503 %}
{% api-method-response-example-description %}
The nodes was unable to verify the transaction.
{% endapi-method-response-example-description %}

```
Transaction verification failed.
```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}

## Network and Node State

Endpoints for getting information about the current network and node state.

{% api-method method="get" host="http://arweave.net:1984" path="/info" %}
{% api-method-summary %}
Network Info
{% endapi-method-summary %}

{% api-method-description %}
Get the current network information.
{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}
{% api-method-headers %}
{% api-method-parameter name="Accept" type="string" required=false %}
Application/json
{% endapi-method-parameter %}
{% endapi-method-headers %}
{% endapi-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=200 %}
{% api-method-response-example-description %}

{% endapi-method-response-example-description %}

```javascript
{
  "network": "arweave.N.1",
  "version": 3,
  "release": 16,
  "height": 78309,
  "current": "o8ahQ55Omd7Fdi4UgGP82bD2-TZ66JYY33NzGyvpLL3_V3wCmsq8NJmnkJl1p_ew",
  "blocks": 97375,
  "peers": 64,
  "queue_length": 0,
  "node_state_latency": 18
}
```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}



{% api-method method="get" host="http://arweave.net" path="/peers" %}
{% api-method-summary %}
Peer list
{% endapi-method-summary %}

{% api-method-description %}
Get the list of peers that the node. Nodes can only respond with peers they currently know about, so this will not be an exhaustive list of nodes on the network.
{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=200 %}
{% api-method-response-example-description %}

{% endapi-method-response-example-description %}

```javascript
[
  "127.0.0.1:1984",
  "0.0.0.0:1984"
]
```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}

